# 내용 협상과 트랜스 코딩
## 내용 협상 기법
1. 클라리언트에게 선택지
2. 서버가 자동으로 판단
3. 중개자에게 선택

### 클라이언트 주도협상
- 서버가 다양한 버전의 페이지를 클라이언트한테 주고 알아서 선택하라고 한다.
  - 네트워크 낭비
  - 서버는 편함
  - 300 Multiple Choices 응답 코드가 있다고 한다 

### 서버 주도 협상
- 클라이언트의 Accept 관련 헤더들을 보고 판단
- User-Agent에 기반하여 응답을 보내줄 수도 있다.

#### 내용 협상 헤더
- Accept: 어떤 미디어 타입
- Accept-Language: 어떤 언어
- Accept-Charset: 어떤 차셋
- Accept-Encoding: 어떤 인코딩

## 투명 협상
- `Vary` 헤더를 통해서 중개자에게 내용 협상을위해 어떤 헤더를 사용하는지 알려준다.

### 캐시와 얼터네이트(alternate)
- 캐시가 여러 버전을 가지고 있어서 사용자한테 맞는걸 준다.

## 트랜스코딩
> 서버가 클라이언트의요구에 맞는 문서를 가지고 있지 않는 경우 변환하여 전달해주는 것
- 포멧 변환
- 정보 합성: 정보 요첨 추출
- 콘텐츠 주입: 광고 자동 삽입처럼 내용 추가

### 예시
- 고해상도 -> 저해상도
- 64k 색이미지 -> 흑백 이미지

### 트랜스코딩 vs 정적으로미리 준비하기
- 정적으로 미리 준비하기는 현실적인 기법이 못된다.
